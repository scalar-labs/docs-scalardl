# How to Scale ScalarDL

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This guide explains how to scale ScalarDL.

:::note

You might be able to resolve some performance issues by scaling ScalarDL if a bottleneck exists on the ScalarDL side. However, sometimes a performance issue is caused by a bottleneck in the backend databases. In such cases, scaling ScalarDL will not resolve the performance issue. 

Instead, please check where the bottleneck exists. If the bottleneck exists in the backend databases, consider scaling the backend databases.

:::

<Tabs groupId="components" queryString>
  <TabItem value="ScalarDL_Ledger" label="ScalarDL Ledger" default>
    Select your preferred tool for scaling ScalarDL Ledger.

    <Tabs groupId="tools" queryString>
      <TabItem value="Helm_Chart" label="Using Scalar Helm Chart (recommended)" default>

        If you use [Scalar Helm Chart](https://github.com/scalar-labs/helm-charts) to deploy ScalarDL Ledger, you can scale your ScalarDL Ledger deployment as follows:

        1. Add the following to your custom values file, replacing `<NUMBER_OF_PODS>` with the number of pods you want to scale:

           ```yaml
           ledger:
             replicaCount: <NUMBER_OF_PODS>
           ```

        1. Upgrade your ScalarDL Ledger deployment by running the following `helm upgrade` command, which uses the updated custom values file. Be sure to replace the contents in the angle brackets as described:

           ```console
           helm upgrade <RELEASE_NAME> scalar-labs/scalardl -n <NAMESPACE> -f /<PATH_TO_YOUR_CUSTOM_VALUES_FILE_FOR_SCALARDL_LEDGER> --version <CHART_VERSION>
           ```

      </TabItem>
      <TabItem value="kubectl" label="Using kubectl">

        If you deploy ScalarDL Ledger in a Kubernetes environment, you can temporarily scale your ScalarDL Ledger deployment by using the `kubectl scale` command.

        1. Run the following `kubectl scale` command, replacing the contents in the angle brackets as described:

        ```console
        kubectl scale --replicas=<NUMBER_OF_PODS> deployment/<DEPLOYMENT_RESOURCE_NAME_OF_SCALARDL_LEDGER>
        ```
      </TabItem>
    </Tabs>
  </TabItem>
  <TabItem value="ScalarDL_Auditor" label="ScalarDL Auditor" default>
    Select your preferred tool for scaling ScalarDL Auditor.

    <Tabs groupId="tools" queryString>
      <TabItem value="Helm_Chart" label="Using Scalar Helm Chart (recommended)" default>

        If you use [Scalar Helm Chart](https://github.com/scalar-labs/helm-charts) to deploy ScalarDL Auditor, you can scale your ScalarDL Auditor deployment as follows:

        1. Add the following to your custom values file, replacing `<NUMBER_OF_PODS>` with the number of pods you want to scale:

           ```yaml
           auditor:
             replicaCount: <NUMBER_OF_PODS>
           ```

        1. Upgrade your ScalarDL Auditor deployment by running the following `helm upgrade` command, which uses the updated custom values file. Be sure to replace the contents in the angle brackets as described:

           ```console
           helm upgrade <RELEASE_NAME> scalar-labs/scalardl-audit -n <NAMESPACE> -f /<PATH_TO_YOUR_CUSTOM_VALUES_FILE_FOR_SCALARDL_AUDITOR> --version <CHART_VERSION>
           ```

      </TabItem>
      <TabItem value="kubectl" label="Using kubectl">

        If you deploy ScalarDL Auditor in a Kubernetes environment, you can temporarily scale your ScalarDL Auditor deployment by using the `kubectl scale` command.

        1. Run the following `kubectl scale` command, replacing the contents in the angle brackets as described:

        ```console
        kubectl scale --replicas=<NUMBER_OF_PODS> deployment/<DEPLOYMENT_RESOURCE_NAME_OF_SCALARDL_AUDITOR>
        ```
      </TabItem>
    </Tabs>
  </TabItem>
</Tabs>

